<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <title>Example Page for Your App</title>

    <!-- External Fonts (Press Start 2P) -->
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
    
    <!-- Bootstrap 5 for layout and styling -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- Font Awesome for icons (e.g., power-off, send button) -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">

    <!-- Custom CSS for styling -->
    <link href="static/css/example_app_page.css" rel="stylesheet">

    <!-- Bootstrap JavaScript for interactivity and offcanvas functionality -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"></script>

    <!-- Socket.IO for real-time communication -->
    <script src="https://cdn.socket.io/4.7.5/socket.io.min.js" integrity="sha384-2huaZvOR9iDzHqslqwpR87isEmrfxqyWOF7hr7BY6KG0+hVKLoEXMPUJw3ynWuhO" crossorigin="anonymous"></script>

    <!-- Data model that interacts with your API -->
    <script src="static/js/datamodel.js"></script> 

    <!-- JavaScript for handling websockets functionality -->
    <script src="static/js/chatsocket.js"></script> <!-- Manages WebSocket connections -->
</head>
<body>
    <div class="container mt-4">
        <h1 class="text-center">Welcome to Your App</h1>

        <!-- Nav tabs -->
        <ul class="nav nav-tabs" id="myTab" role="tablist">
            <li class="nav-item" role="presentation">
                <button class="nav-link active" id="main-tab" data-bs-toggle="tab" data-bs-target="#main" type="button" role="tab" aria-controls="main" aria-selected="true">Budget Management</button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link" id="account-management-tab" data-bs-toggle="tab" data-bs-target="#account-management" type="button" role="tab" aria-controls="account-management" aria-selected="false">Account Management</button>
            </li>
        </ul>

        <!-- Tab content -->
        <div class="tab-content mt-3" id="myTabContent">
            <!-- Main tab content -->
            <div class="tab-pane fade show active" id="main" role="tabpanel" aria-labelledby="main-tab">
                <p>Welcome to the main section of your app. Add more content here as needed.</p>
            </div>

            <!-- Account Management tab content -->
            <div class="tab-pane fade" id="account-management" role="tabpanel" aria-labelledby="account-management-tab">
                <h2>Manage Users</h2>

                <!-- Menu Bar -->
                <div class="d-flex justify-content-end mb-3">
                    <button class="btn btn-success me-2" onclick="openAddUserModal()">
                        <i class="fas fa-user-plus"></i> Add a New User
                    </button>
                    <button class="btn btn-primary" onclick="loadUsersIntoTable()">
                        <i class="fas fa-sync-alt"></i> Refresh User List
                    </button>
                </div>

                <table class="table table-striped">
                    <thead>
                        <tr>
                            <th scope="col">Email</th>
                            <th scope="col">User Type</th>
                            <th scope="col">Description</th>
                            <th scope="col">Actions</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>example1@email.com</td>
                            <td>
                                User 1 description goes here.
                            </td>
                            <td>
                                <button class="btn btn-primary btn-sm me-2">
                                    <i class="fas fa-edit"></i> Edit
                                </button>
                                <button class="btn btn-danger btn-sm">
                                    <i class="fas fa-trash-alt"></i> Delete
                                </button>
                            </td>
                        </tr>
                        <tr>
                            <td>example2@email.com</td>
                            <td>
                                User 2 description goes here.
                            </td>
                            <td>
                                <button class="btn btn-primary btn-sm me-2">
                                    <i class="fas fa-edit"></i> Edit
                                </button>
                                <button class="btn btn-danger btn-sm">
                                    <i class="fas fa-trash-alt"></i> Delete
                                </button>
                            </td>
                        </tr>
                        <tr>
                            <td>example3@email.com</td>
                            <td>
                                User 3 description goes here.
                            </td>
                            <td>
                                <button class="btn btn-primary btn-sm me-2">
                                    <i class="fas fa-edit"></i> Edit
                                </button>
                                <button class="btn btn-danger btn-sm">
                                    <i class="fas fa-trash-alt"></i> Delete
                                </button>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>


   <!-- Modal for Adding a New User -->
<div class="modal fade" id="addUserModal" tabindex="-1" aria-labelledby="addUserModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="addUserModalLabel">Create New Account</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <form id="addUserForm">
                    <!-- Email input -->
                    <div class="mb-3">
                        <label for="email" class="form-label">Email address</label>
                        <input type="email" class="form-control" id="email" name="email" placeholder="Enter email" required>
                    </div>
                    <!-- Password input -->
                    <div class="mb-3">
                        <label for="password" class="form-label">Password</label>
                        <input type="password" class="form-control" id="password" name="password" placeholder="Enter password" required>
                    </div>
                    <!-- Description input -->
                    <div class="mb-3">
                        <label for="description" class="form-label">Description</label>
                        <textarea class="form-control" id="description" name="description" rows="3" placeholder="Enter description" required></textarea>
                    </div>
                    <!-- Administrator checkbox -->
                    <div class="mb-3 form-check">
                        <input type="checkbox" class="form-check-input" id="isAdmin" name="isAdmin">
                        <label class="form-check-label" for="isAdmin">Account will be an administrator</label>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                <button id="modalCreateButton" type="submit" class="btn btn-primary" form="addUserForm">Create Account</button>
            </div>
        </div>
    </div>
</div>

    <!-- Modal for Editing a User -->
<div class="modal fade" id="editUserModal" tabindex="-1" aria-labelledby="editUserModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="editUserModalLabel">Edit User</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <form id="editUserForm">
                    <!-- Email input -->
                    <div class="mb-3">
                        <label for="editEmail" class="form-label">Email address</label>
                        <input type="email" class="form-control" id="editEmail" name="email" placeholder="Enter email" required>
                    </div>
                    <!-- Description input -->
                    <div class="mb-3">
                        <label for="editDescription" class="form-label">Description</label>
                        <textarea class="form-control" id="editDescription" name="description" rows="3" placeholder="Enter description" required></textarea>
                    </div>
                    <!-- Administrator checkbox -->
                    <div class="mb-3 form-check">
                        <input type="checkbox" class="form-check-input" id="editIsAdmin" name="isAdmin">
                        <label class="form-check-label" for="editIsAdmin">Account will be an administrator</label>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                <button id="modalEditButton" type="submit" class="btn btn-primary" form="editUserForm">Save Changes</button>
            </div>
        </div>
    </div>
</div>

<form class="budget-form">
    <h2>Monthly Budget Calculator</h2>
    <div class="form-group">
        <label for="monthlyIncome">Monthly Income:</label>
        <input type="number" id="monthlyIncome" name="monthlyIncome" placeholder="Salary, side income" class="form-control">
    </div>

    <div class="form-group">
        <label for="rentMortgage">Rent/Mortgage:</label>
        <input type="number" id="rentMortgage" name="rentMortgage" placeholder="Monthly rent or mortgage payment" class="form-control">
    </div>

    <div class="form-group">
        <label for="carInsurance">Car Insurance:</label>
        <input type="number" id="carInsurance" name="carInsurance" placeholder="Car insurance premium" class="form-control">
    </div>

    <div class="form-group">
        <label for="phoneBill">Phone Bill:</label>
        <input type="number" id="phoneBill" name="phoneBill" placeholder="Mobile phone service" class="form-control">
    </div>

    <div class="form-group">
        <label for="electricity">Electricity:</label>
        <input type="number" id="electricity" name="electricity" placeholder="Electricity utility bill" class="form-control">
    </div>

    <div class="form-group">
        <label for="wifi">WiFi:</label>
        <input type="number" id="wifi" name="wifi" placeholder="Internet service bill" class="form-control">
    </div>

    <div class="form-group">
        <label for="groceries">Groceries:</label>
        <input type="number" id="groceries" name="groceries" placeholder="Monthly grocery expenses" class="form-control">
    </div>

    <div class="form-group">
        <label for="eatingOut">Eating Out:</label>
        <input type="number" id="eatingOut" name="eatingOut" placeholder="Dining out at restaurants or cafes" class="form-control">
    </div>

    <div class="form-group">
        <label for="transportation">Transportation:</label>
        <input type="number" id="transportation" name="transportation" placeholder="Gas or public transit costs" class="form-control">
    </div>

    <div class="form-group">
        <label for="entertainment">Entertainment:</label>
        <input type="number" id="entertainment" name="entertainment" placeholder="Movies, subscriptions, hobbies" class="form-control">
    </div>

    <div class="form-group">
        <label for="savings">Savings:</label>
        <input type="number" id="savings" name="savings" placeholder="Savings for emergency or investments" class="form-control">
    </div>

    <div class="form-group">
        <label for="miscellaneous">Miscellaneous:</label>
        <input type="number" id="miscellaneous" name="miscellaneous" placeholder="Other unplanned expenses" class="form-control">
    </div>

    <div class="form-group">
        <label for="netBalance">Net Balance:</label>
        <input type="number" id="netBalance" name="netBalance" readonly class="form-control">
    </div>

    <button type="submit" class="btn btn-primary">Calculate Budget</button>
</form>

<style>
.budget-form {
    max-width: 600px;
    margin: 0 auto;
    padding: 20px;
}

.form-group {
    margin-bottom: 15px;
}

.form-control {
    width: 100%;
    padding: 8px;
    border: 1px solid #ddd;
    border-radius: 4px;
}

.btn-primary {
    background-color: #007bff;
    color: white;
    padding: 10px 20px;
    border: none;
    border-radius: 4px;
    cursor: pointer;
}

label {
    display: block;
    margin-bottom: 5px;
    font-weight: bold;
}
</style>


    <script src="static/js/example_app_page.js"></script> <!-- Handles user interactions on the websocket -->

</body>
</html>